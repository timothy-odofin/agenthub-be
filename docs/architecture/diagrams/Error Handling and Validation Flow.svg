<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="5069px" preserveAspectRatio="none" style="width:2090px;height:5069px;background:#FFFFFF;" version="1.1" viewBox="0 0 2090 5069" width="2090px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="328" x="882.5" y="28.5352">AgentHub - Error Handling &amp; Validation Flow</text><rect fill="#FFFFFF" height="537.3848" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="161.3965"/><rect fill="#FFFFFF" height="341.9688" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="840.6445"/><rect fill="#FFFFFF" height="3765.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="1243.2344"/><rect fill="#FFFFFF" height="860.043" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="2154.4141"/><rect fill="#FFFFFF" height="593.3848" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="3163.3203"/><rect fill="#FFFFFF" height="549.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="3898.5684"/><rect fill="#FFFFFF" height="194.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="549" y="190.707"/><rect fill="#FFFFFF" height="132.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="549" y="869.9551"/><rect fill="#FFFFFF" height="117.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="414.123"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="1032.1289"/><rect fill="#FFFFFF" height="236.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="4074.7422"/><rect fill="#FFFFFF" height="3736.3457" style="stroke:#181818;stroke-width:1.0;" width="10" x="966" y="1272.5449"/><rect fill="#FFFFFF" height="678.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="2183.7246"/><rect fill="#FFFFFF" height="412.2793" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="3192.6309"/><rect fill="#FFFFFF" height="117.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="3927.8789"/><rect fill="#FFFFFF" height="3707.0352" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="1301.8555"/><rect fill="#FFFFFF" height="620.3164" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290" y="2213.0352"/><rect fill="#FFFFFF" height="353.6582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290" y="3221.9414"/><rect fill="#FFFFFF" height="86.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1346.4766"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1749.7559"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1865.998"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="2242.3457"/><rect fill="#FFFFFF" height="59.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="2652.2461"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="3501.668"/><rect fill="#FFFFFF" height="172.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1713" y="2300.9668"/><rect fill="#FFFFFF" height="461.9004" style="stroke:#181818;stroke-width:1.0;" width="10" x="1843" y="1462.7188"/><rect fill="#FFFFFF" height="132.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1843" y="3266.5625"/><rect fill="#FFB6C1" height="665.248" style="stroke:#000000;stroke-width:1.5;" width="911" x="20" y="107.4648"/><rect fill="#F08080" height="403.9004" style="stroke:#000000;stroke-width:1.5;" width="793" x="20" y="786.7129"/><rect fill="#FFFFE0" height="897.1797" style="stroke:#000000;stroke-width:1.5;" width="2064" x="20" y="1204.6133"/><rect fill="#FFA07A" height="994.9063" style="stroke:#000000;stroke-width:1.5;" width="1838" x="10" y="2115.793"/><rect fill="#FFB6C1" height="664.1797" style="stroke:#000000;stroke-width:1.5;" width="1730.5" x="20" y="2358.2773"/><rect fill="#ADD8E6" height="721.248" style="stroke:#000000;stroke-width:1.5;" width="2041" x="20" y="3124.6992"/><rect fill="#D3D3D3" height="692.248" style="stroke:#000000;stroke-width:1.5;" width="1103" x="20" y="3859.9473"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="57" x2="57" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="360" x2="360" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="553.5" x2="553.5" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="762" x2="762" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="971" x2="971" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1289.5" x2="1289.5" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1595.5" x2="1595.5" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1717.5" x2="1717.5" y1="90.4648" y2="5017.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1848" x2="1848" y1="90.4648" y2="5017.8906"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="30" y="58.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="37" y="79.5117">Client</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="30" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="37" y="5037.4258">Client</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="328" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="335" y="63.0234">FastAPI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="337" y="79.5117">Router</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="328" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="335" y="5037.4258">FastAPI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="337" y="5053.9141">Router</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="512.5" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="526.5" y="63.0234">Request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="519.5" y="79.5117">Validation</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="512.5" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="526.5" y="5037.4258">Request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="519.5" y="5053.9141">Validation</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="721" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="728" y="63.0234">Exception</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="735" y="79.5117">Handler</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="721" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="728" y="5037.4258">Exception</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="735" y="5053.9141">Handler</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="940" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="955" y="63.0234">Chat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="947" y="79.5117">Service</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="940" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="955" y="5037.4258">Chat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="947" y="5053.9141">Service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1262.5" y="58.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1269.5" y="79.5117">Agent</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1262.5" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1269.5" y="5037.4258">Agent</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1545.5" y="58.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1552.5" y="79.5117">LLM Provider</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1545.5" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1552.5" y="5037.4258">LLM Provider</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45" x="1695.5" y="58.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1702.5" y="79.5117">Tool</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45" x="1695.5" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1702.5" y="5037.4258">Tool</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1807" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1814" y="63.0234">Resilience</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1830" y="79.5117">Layer</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1807" y="5016.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1814" y="5037.4258">Resilience</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1830" y="5053.9141">Layer</text><rect fill="#FFFFFF" height="537.3848" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="161.3965"/><rect fill="#FFFFFF" height="341.9688" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="840.6445"/><rect fill="#FFFFFF" height="3765.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="355" y="1243.2344"/><rect fill="#FFFFFF" height="860.043" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="2154.4141"/><rect fill="#FFFFFF" height="593.3848" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="3163.3203"/><rect fill="#FFFFFF" height="549.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="3898.5684"/><rect fill="#FFFFFF" height="194.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="549" y="190.707"/><rect fill="#FFFFFF" height="132.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="549" y="869.9551"/><rect fill="#FFFFFF" height="117.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="414.123"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="1032.1289"/><rect fill="#FFFFFF" height="236.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="757" y="4074.7422"/><rect fill="#FFFFFF" height="3736.3457" style="stroke:#181818;stroke-width:1.0;" width="10" x="966" y="1272.5449"/><rect fill="#FFFFFF" height="678.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="2183.7246"/><rect fill="#FFFFFF" height="412.2793" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="3192.6309"/><rect fill="#FFFFFF" height="117.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="971" y="3927.8789"/><rect fill="#FFFFFF" height="3707.0352" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="1301.8555"/><rect fill="#FFFFFF" height="620.3164" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290" y="2213.0352"/><rect fill="#FFFFFF" height="353.6582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290" y="3221.9414"/><rect fill="#FFFFFF" height="86.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1346.4766"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1749.7559"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="1865.998"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="2242.3457"/><rect fill="#FFFFFF" height="59.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="2652.2461"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1591" y="3501.668"/><rect fill="#FFFFFF" height="172.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1713" y="2300.9668"/><rect fill="#FFFFFF" height="461.9004" style="stroke:#181818;stroke-width:1.0;" width="10" x="1843" y="1462.7188"/><rect fill="#FFFFFF" height="132.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1843" y="3266.5625"/><path d="M20,107.4648 L307,107.4648 L307,114.7754 L297,124.7754 L20,124.7754 L20,107.4648 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="665.248" style="stroke:#000000;stroke-width:1.5;" width="911" x="20" y="107.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="242" x="35" y="121.0332">Scenario 1: Request Validation Error</text><polygon fill="#181818" points="343,157.3965,353,161.3965,343,165.3965,347,161.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="349" y1="161.3965" y2="161.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="64" y="141.3438">POST /api/v1/chat/message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="64" y="156.6543">{message: null}  &#10060;</text><polygon fill="#181818" points="537,186.707,547,190.707,537,194.707,541,190.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="543" y1="190.707" y2="190.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="372" y="185.9648">Validate Pydantic schema</text><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="601" y1="250.6387" y2="250.6387"/><line style="stroke:#181818;stroke-width:1.0;" x1="601" x2="601" y1="250.6387" y2="263.6387"/><line style="stroke:#181818;stroke-width:1.0;" x1="560" x2="601" y1="263.6387" y2="263.6387"/><polygon fill="#181818" points="570,259.6387,560,263.6387,570,267.6387,566,263.6387" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="566" y="215.2754">Check required fields:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="566" y="230.5859">- message: &#10060; null (required)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="566" y="245.8965">- session_id: &#10003; optional</text><polygon fill="#181818" points="376,380.8125,366,384.8125,376,388.8125,372,384.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="553" y1="384.8125" y2="384.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="157" x="382" y="288.207">RequestValidationError</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="382" y="303.5176">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="390" y="318.8281">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="398" y="334.1387">field: "message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="398" y="349.4492">error: "Field required"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="390" y="364.7598">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="382" y="380.0703">]</text><polygon fill="#181818" points="745,410.123,755,414.123,745,418.123,749,414.123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="751" y1="414.123" y2="414.123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="372" y="409.3809">Handle validation error</text><line style="stroke:#181818;stroke-width:1.0;" x1="767" x2="809" y1="489.3652" y2="489.3652"/><line style="stroke:#181818;stroke-width:1.0;" x1="809" x2="809" y1="489.3652" y2="502.3652"/><line style="stroke:#181818;stroke-width:1.0;" x1="768" x2="809" y1="502.3652" y2="502.3652"/><polygon fill="#181818" points="778,498.3652,768,502.3652,778,506.3652,774,502.3652" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="774" y="438.6914">Format error response:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="774" y="454.002">- Extract field errors</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="774" y="469.3125">- Add request_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="774" y="484.623">- Log validation failure</text><polygon fill="#181818" points="376,527.6758,366,531.6758,376,535.6758,372,531.6758" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="761" y1="531.6758" y2="531.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="382" y="526.9336">Formatted Response</text><polygon fill="#181818" points="68,694.7813,58,698.7813,68,702.7813,64,698.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="359" y1="698.7813" y2="698.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="174" x="74" y="556.2441">422 Unprocessable Entity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="571.5547">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="82" y="586.8652">status: "error",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="82" y="602.1758">error_code: "VALIDATION_ERROR",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="82" y="617.4863">message: "Invalid request",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="82" y="632.7969">details: [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="90" y="648.1074">{field: "message", error: "Field required"}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="82" y="663.418">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="82" y="678.7285">request_id: "req_abc123"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="694.0391">}</text><path d="M62,711.7813 L62,766.7813 L223,766.7813 L223,721.7813 L213,711.7813 L62,711.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M213,711.7813 L213,721.7813 L223,721.7813 L213,711.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63" x="68" y="729.3496">Early Exit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="68" y="744.6602">Request never reaches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="68" y="759.9707">business logic layer</text><path d="M20,786.7129 L280,786.7129 L280,794.0234 L270,804.0234 L20,804.0234 L20,786.7129 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="403.9004" style="stroke:#000000;stroke-width:1.5;" width="793" x="20" y="786.7129"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="215" x="35" y="800.2813">Scenario 2: Authentication Error</text><polygon fill="#181818" points="343,836.6445,353,840.6445,343,844.6445,347,840.6445" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="349" y1="840.6445" y2="840.6445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="64" y="820.5918">POST /api/v1/chat/message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="64" y="835.9023">Authorization: Bearer invalid_token</text><polygon fill="#181818" points="537,865.9551,547,869.9551,537,873.9551,541,869.9551" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="543" y1="869.9551" y2="869.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="372" y="865.2129">Verify JWT token</text><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="601" y1="945.1973" y2="945.1973"/><line style="stroke:#181818;stroke-width:1.0;" x1="601" x2="601" y1="945.1973" y2="958.1973"/><line style="stroke:#181818;stroke-width:1.0;" x1="560" x2="601" y1="958.1973" y2="958.1973"/><polygon fill="#181818" points="570,954.1973,560,958.1973,570,962.1973,566,958.1973" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="566" y="894.5234">Decode JWT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="566" y="909.834">- Signature invalid &#10060;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="566" y="925.1445">- Token expired &#10060;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="566" y="940.4551">- User not found &#10060;</text><polygon fill="#181818" points="376,998.8184,366,1002.8184,376,1006.8184,372,1002.8184" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="553" y1="1002.8184" y2="1002.8184"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="382" y="982.7656">HTTPException(401)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="382" y="998.0762">"Invalid or expired token"</text><polygon fill="#181818" points="745,1028.1289,755,1032.1289,745,1036.1289,749,1032.1289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="751" y1="1032.1289" y2="1032.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="372" y="1027.3867">Handle HTTP exception</text><polygon fill="#181818" points="376,1057.4395,366,1061.4395,376,1065.4395,372,1061.4395" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="761" y1="1061.4395" y2="1061.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="382" y="1056.6973">Format 401 response</text><polygon fill="#181818" points="68,1178.6133,58,1182.6133,68,1186.6133,64,1182.6133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="359" y1="1182.6133" y2="1182.6133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124" x="74" y="1086.0078">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="1101.3184">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="82" y="1116.6289">status: "error",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="82" y="1131.9395">error_code: "AUTH_ERROR",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="82" y="1147.25">message: "Invalid or expired token",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="82" y="1162.5605">hint: "Please login again"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="1177.8711">}</text><path d="M20,1204.6133 L342,1204.6133 L342,1211.9238 L332,1221.9238 L20,1221.9238 L20,1204.6133 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="897.1797" style="stroke:#000000;stroke-width:1.5;" width="2064" x="20" y="1204.6133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="277" x="35" y="1218.1816">Scenario 3: LLM Provider Error with Retry</text><polygon fill="#181818" points="343,1239.2344,353,1243.2344,343,1247.2344,347,1243.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="349" y1="1243.2344" y2="1243.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="64" y="1238.4922">Valid request &#10003;</text><polygon fill="#181818" points="954,1268.5449,964,1272.5449,954,1276.5449,958,1272.5449" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="960" y1="1272.5449" y2="1272.5449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="372" y="1267.8027">Process chat</text><polygon fill="#181818" points="1273,1297.8555,1283,1301.8555,1273,1305.8555,1277,1301.8555" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="976" x2="1279" y1="1301.8555" y2="1301.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="983" y="1297.1133">Execute agent</text><polygon fill="#181818" points="1579,1342.4766,1589,1346.4766,1579,1350.4766,1583,1346.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1585" y1="1346.4766" y2="1346.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1302" y="1326.4238">First LLM call</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1302" y="1341.7344">(tool selection)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1601" x2="1643" y1="1375.7871" y2="1375.7871"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643" x2="1643" y1="1375.7871" y2="1388.7871"/><line style="stroke:#181818;stroke-width:1.0;" x1="1602" x2="1643" y1="1388.7871" y2="1388.7871"/><polygon fill="#181818" points="1612,1384.7871,1602,1388.7871,1612,1392.7871,1608,1388.7871" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1608" y="1371.0449">Call OpenAI API</text><polygon fill="#181818" points="1306,1429.4082,1296,1433.4082,1306,1437.4082,1302,1433.4082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1300" x2="1595" y1="1433.4082" y2="1433.4082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1312" y="1413.3555">RateLimitError</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1312" y="1428.666">"Rate limit exceeded"</text><polygon fill="#181818" points="1831,1458.7188,1841,1462.7188,1831,1466.7188,1835,1462.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1837" y1="1462.7188" y2="1462.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="1302" y="1457.9766">Handle LLM error</text><line style="stroke:#181818;stroke-width:1.0;" x1="1853" x2="1895" y1="1537.9609" y2="1537.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1895" x2="1895" y1="1537.9609" y2="1550.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854" x2="1895" y1="1550.9609" y2="1550.9609"/><polygon fill="#181818" points="1864,1546.9609,1854,1550.9609,1864,1554.9609,1860,1550.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1860" y="1487.2871">Check error type:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1860" y="1502.5977">- RateLimitError &#8594; Retry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1860" y="1517.9082">- AuthError &#8594; No retry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1860" y="1533.2188">- NetworkError &#8594; Retry</text><line style="stroke:#181818;stroke-width:1.0;" x1="1853" x2="1895" y1="1626.2031" y2="1626.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1895" x2="1895" y1="1626.2031" y2="1639.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854" x2="1895" y1="1639.2031" y2="1639.2031"/><polygon fill="#181818" points="1864,1635.2031,1854,1639.2031,1864,1643.2031,1860,1639.2031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="1860" y="1575.5293">Retry Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1860" y="1590.8398">- Attempt 1/3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1860" y="1606.1504">- Wait 2s (exponential)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1860" y="1621.4609">- Circuit breaker: CLOSED</text><path d="M1858,1652.2031 L1858,1723.2031 L2074,1723.2031 L2074,1662.2031 L2064,1652.2031 L1858,1652.2031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2064,1652.2031 L2064,1662.2031 L2074,1662.2031 L2064,1652.2031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="1864" y="1669.7715">Resilience Patterns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1864" y="1685.082">- Retry with backoff</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1864" y="1700.3926">- Circuit breaker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1864" y="1715.7031">- Fallback to different provider</text><polygon fill="#181818" points="1612,1745.7559,1602,1749.7559,1612,1753.7559,1608,1749.7559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1606" x2="1842" y1="1749.7559" y2="1749.7559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1618" y="1745.0137">Retry #1 (after 2s)</text><polygon fill="#181818" points="1831,1775.0664,1841,1779.0664,1831,1783.0664,1835,1779.0664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1596" x2="1837" y1="1779.0664" y2="1779.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94" x="1603" y="1774.3242">Timeout Error</text><line style="stroke:#181818;stroke-width:1.0;" x1="1853" x2="1895" y1="1823.6875" y2="1823.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1895" x2="1895" y1="1823.6875" y2="1836.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854" x2="1895" y1="1836.6875" y2="1836.6875"/><polygon fill="#181818" points="1864,1832.6875,1854,1836.6875,1864,1840.6875,1860,1836.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1860" y="1803.6348">Attempt 2/3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1860" y="1818.9453">Wait 4s</text><polygon fill="#181818" points="1612,1861.998,1602,1865.998,1612,1869.998,1608,1865.998" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1606" x2="1842" y1="1865.998" y2="1865.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1618" y="1861.2559">Retry #2 (after 4s)</text><polygon fill="#181818" points="1831,1891.3086,1841,1895.3086,1831,1899.3086,1835,1895.3086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1596" x2="1837" y1="1895.3086" y2="1895.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1603" y="1890.5664">Success</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="1659" y="1890.5664">&#10003;</text><polygon fill="#181818" points="1306,1920.6191,1296,1924.6191,1306,1928.6191,1302,1924.6191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1300" x2="1847" y1="1924.6191" y2="1924.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="1312" y="1919.877">LLM response (succeeded on retry)</text><polygon fill="#181818" points="987,1949.9297,977,1953.9297,987,1957.9297,983,1953.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="981" x2="1284" y1="1953.9297" y2="1953.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="993" y="1949.1875">Continue processing</text><polygon fill="#181818" points="376,1979.2402,366,1983.2402,376,1987.2402,372,1983.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="965" y1="1983.2402" y2="1983.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="382" y="1978.498">Success response</text><polygon fill="#181818" points="68,2023.8613,58,2027.8613,68,2031.8613,64,2027.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="354" y1="2027.8613" y2="2027.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="74" y="2007.8086">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="74" y="2023.1191">(with retry metadata)</text><path d="M62,2040.8613 L62,2095.8613 L220,2095.8613 L220,2050.8613 L210,2040.8613 L62,2040.8613 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M210,2040.8613 L210,2050.8613 L220,2050.8613 L210,2040.8613 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124" x="68" y="2058.4297">Transparent Retry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="68" y="2073.7402">User sees slight delay</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="68" y="2089.0508">but request succeeds</text><path d="M10,2115.793 L269,2115.793 L269,2123.1035 L259,2133.1035 L10,2133.1035 L10,2115.793 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="994.9063" style="stroke:#000000;stroke-width:1.5;" width="1838" x="10" y="2115.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="214" x="25" y="2129.3613">Scenario 4: Tool Execution Error</text><polygon fill="#181818" points="348,2150.4141,358,2154.4141,348,2158.4141,352,2154.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="354" y1="2154.4141" y2="2154.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="64" y="2149.6719">"Show Jira issues"</text><polygon fill="#181818" points="959,2179.7246,969,2183.7246,959,2187.7246,963,2183.7246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="965" y1="2183.7246" y2="2183.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="377" y="2178.9824">Process</text><polygon fill="#181818" points="1278,2209.0352,1288,2213.0352,1278,2217.0352,1282,2213.0352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="981" x2="1284" y1="2213.0352" y2="2213.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="988" y="2208.293">Execute</text><polygon fill="#181818" points="1579,2238.3457,1589,2242.3457,1579,2246.3457,1583,2242.3457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1585" y1="2242.3457" y2="2242.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1307" y="2237.6035">Tool selection</text><polygon fill="#181818" points="1311,2267.6563,1301,2271.6563,1311,2275.6563,1307,2271.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305" x2="1595" y1="2271.6563" y2="2271.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1317" y="2266.9141">Use jira_search_issues</text><polygon fill="#181818" points="1701,2296.9668,1711,2300.9668,1701,2304.9668,1705,2300.9668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1707" y1="2300.9668" y2="2300.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1307" y="2296.2246">Execute Jira tool</text><line style="stroke:#181818;stroke-width:1.0;" x1="1723" x2="1765" y1="2330.2773" y2="2330.2773"/><line style="stroke:#181818;stroke-width:1.0;" x1="1765" x2="1765" y1="2330.2773" y2="2343.2773"/><line style="stroke:#181818;stroke-width:1.0;" x1="1724" x2="1765" y1="2343.2773" y2="2343.2773"/><polygon fill="#181818" points="1734,2339.2773,1724,2343.2773,1734,2347.2773,1730,2343.2773" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1730" y="2325.5352">Call Jira REST API</text><path d="M20,2358.2773 L82,2358.2773 L82,2365.5879 L72,2375.5879 L20,2375.5879 L20,2358.2773 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="664.1797" style="stroke:#000000;stroke-width:1.5;" width="1730.5" x="20" y="2358.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="2371.8457">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="87" x="97" y="2370.9121">[Jira API Down]</text><polygon fill="#181818" points="1311,2469.4512,1301,2473.4512,1311,2477.4512,1307,2473.4512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305" x2="1717" y1="2473.4512" y2="2473.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129" x="1317" y="2392.1563">ToolExecutionError</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1317" y="2407.4668">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1325" y="2422.7773">tool: "jira_search_issues",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1325" y="2438.0879">error: "Connection failed",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1325" y="2453.3984">status_code: 503</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1317" y="2468.709">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1342" y1="2548.6934" y2="2548.6934"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342" x2="1342" y1="2548.6934" y2="2561.6934"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="1342" y1="2561.6934" y2="2561.6934"/><polygon fill="#181818" points="1311,2557.6934,1301,2561.6934,1311,2565.6934,1307,2561.6934" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115" x="1307" y="2498.0195">Fallback Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1307" y="2513.3301">1. Try alternative tool?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1307" y="2528.6406">2. Return partial data?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1307" y="2543.9512">3. Inform user gracefully?</text><polygon fill="#181818" points="1579,2648.2461,1589,2652.2461,1579,2656.2461,1583,2652.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1585" y1="2652.2461" y2="2652.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1307" y="2586.2617">Reformulate without tool data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1307" y="2601.5723">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1315" y="2616.8828">context: "Jira unavailable",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="1315" y="2632.1934">instruction: "Apologize and suggest retry"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1307" y="2647.5039">}</text><polygon fill="#181818" points="1311,2708.1777,1301,2712.1777,1311,2716.1777,1307,2712.1777" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305" x2="1595" y1="2712.1777" y2="2712.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1317" y="2676.8145">"I'm unable to connect to Jira</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="1317" y="2692.125">right now. Please try again</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1317" y="2707.4355">in a few minutes."</text><polygon fill="#181818" points="992,2829.3516,982,2833.3516,992,2837.3516,988,2833.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="986" x2="1284" y1="2833.3516" y2="2833.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="998" y="2736.7461">Graceful Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="998" y="2752.0566">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1006" y="2767.3672">success: false,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1006" y="2782.6777">message: "Service temporarily unavailable",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1006" y="2797.9883">tool_errors: ["jira_search_issues"],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1006" y="2813.2988">retry_after: 60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="998" y="2828.6094">}</text><polygon fill="#181818" points="381,2858.6621,371,2862.6621,381,2866.6621,377,2862.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="965" y1="2862.6621" y2="2862.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="387" y="2857.9199">Partial success response</text><polygon fill="#181818" points="68,3010.457,58,3014.457,68,3018.457,64,3014.457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="354" y1="3014.457" y2="3014.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="74" y="2887.2305">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="129" y="2887.2305">(with error metadata)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="2902.541">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="82" y="2917.8516">success: false,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="82" y="2933.1621">message: "I'm unable to connect to Jira...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="82" y="2948.4727">metadata: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="90" y="2963.7832">tool_errors: ["jira_search_issues"],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="90" y="2979.0938">retry_suggested: true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="82" y="2994.4043">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="3009.7148">}</text><path d="M62,3034.457 L62,3105.457 L230,3105.457 L230,3044.457 L220,3034.457 L62,3034.457 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M220,3034.457 L220,3044.457 L230,3044.457 L220,3034.457 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="68" y="3052.0254">Graceful Degradation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="68" y="3067.3359">- User informed clearly</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="68" y="3082.6465">- No crash or 500 error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="68" y="3097.957">- Suggests retry action</text><path d="M20,3124.6992 L314,3124.6992 L314,3132.0098 L304,3142.0098 L20,3142.0098 L20,3124.6992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="721.248" style="stroke:#000000;stroke-width:1.5;" width="2041" x="20" y="3124.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249" x="35" y="3138.2676">Scenario 5: Circuit Breaker Protection</text><polygon fill="#181818" points="348,3159.3203,358,3163.3203,348,3167.3203,352,3163.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="354" y1="3163.3203" y2="3163.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="64" y="3158.5781">Request with Groq provider</text><polygon fill="#181818" points="959,3188.6309,969,3192.6309,959,3196.6309,963,3192.6309" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="965" y1="3192.6309" y2="3192.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="377" y="3187.8887">Process</text><polygon fill="#181818" points="1278,3217.9414,1288,3221.9414,1278,3225.9414,1282,3221.9414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="981" x2="1284" y1="3221.9414" y2="3221.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="988" y="3217.1992">Execute</text><polygon fill="#181818" points="1831,3262.5625,1841,3266.5625,1831,3270.5625,1835,3266.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1837" y1="3266.5625" y2="3266.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1307" y="3246.5098">Check circuit breaker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1307" y="3261.8203">for Groq provider</text><line style="stroke:#181818;stroke-width:1.0;" x1="1853" x2="1895" y1="3341.8047" y2="3341.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1895" x2="1895" y1="3341.8047" y2="3354.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854" x2="1895" y1="3354.8047" y2="3354.8047"/><polygon fill="#181818" points="1864,3350.8047,1854,3354.8047,1864,3358.8047,1860,3354.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="1860" y="3291.1309">Circuit Breaker State</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1860" y="3306.4414">- State: OPEN (after 5 failures)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1860" y="3321.752">- Opened at: 2 minutes ago</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="1860" y="3337.0625">- Half-open after: 5 minutes</text><polygon fill="#181818" points="1311,3395.4258,1301,3399.4258,1311,3403.4258,1307,3399.4258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305" x2="1847" y1="3399.4258" y2="3399.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="1317" y="3379.373">CircuitBreakerOpen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="1317" y="3394.6836">"Groq provider temporarily blocked"</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1342" y1="3459.3574" y2="3459.3574"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342" x2="1342" y1="3459.3574" y2="3472.3574"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="1342" y1="3472.3574" y2="3472.3574"/><polygon fill="#181818" points="1311,3468.3574,1301,3472.3574,1311,3476.3574,1307,3472.3574" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="1307" y="3423.9941">Automatic Fallback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1307" y="3439.3047">Switch to backup provider:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1307" y="3454.6152">Groq &#8594; OpenAI</text><polygon fill="#181818" points="1579,3497.668,1589,3501.668,1579,3505.668,1583,3501.668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1300" x2="1585" y1="3501.668" y2="3501.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1307" y="3496.9258">Use OpenAI instead</text><polygon fill="#181818" points="1311,3526.9785,1301,3530.9785,1311,3534.9785,1307,3530.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1305" x2="1595" y1="3530.9785" y2="3530.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1317" y="3526.2363">Success &#10003;</text><polygon fill="#181818" points="992,3571.5996,982,3575.5996,992,3579.5996,988,3575.5996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="986" x2="1284" y1="3575.5996" y2="3575.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="998" y="3555.5469">Response generated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="998" y="3570.8574">(with fallback provider)</text><polygon fill="#181818" points="381,3600.9102,371,3604.9102,381,3608.9102,377,3604.9102" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="965" y1="3604.9102" y2="3604.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="387" y="3600.168">Success</text><polygon fill="#181818" points="68,3752.7051,58,3756.7051,68,3760.7051,64,3756.7051" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="354" y1="3756.7051" y2="3756.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="74" y="3629.4785">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="3644.7891">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="82" y="3660.0996">message: "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="82" y="3675.4102">metadata: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="90" y="3690.7207">provider_used: "openai",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="90" y="3706.0313">fallback_triggered: true,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="90" y="3721.3418">original_provider: "groq"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="82" y="3736.6523">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="3751.9629">}</text><path d="M62,3769.7051 L62,3840.7051 L293,3840.7051 L293,3779.7051 L283,3769.7051 L62,3769.7051 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M283,3769.7051 L283,3779.7051 L293,3779.7051 L283,3769.7051 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="68" y="3787.2734">Automatic Failover</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="68" y="3802.584">- Circuit breaker protects system</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="68" y="3817.8945">- Automatic provider switch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="68" y="3833.2051">- User doesn't experience failure</text><path d="M20,3859.9473 L365,3859.9473 L365,3867.2578 L355,3877.2578 L20,3877.2578 L20,3859.9473 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="692.248" style="stroke:#000000;stroke-width:1.5;" width="1103" x="20" y="3859.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="300" x="35" y="3873.5156">Scenario 6: Unhandled Exception (Catch-All)</text><polygon fill="#181818" points="348,3894.5684,358,3898.5684,348,3902.5684,352,3898.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="354" y1="3898.5684" y2="3898.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="64" y="3893.8262">Request</text><polygon fill="#181818" points="959,3923.8789,969,3927.8789,959,3931.8789,963,3927.8789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="965" y1="3927.8789" y2="3927.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="377" y="3923.1367">Process</text><line style="stroke:#181818;stroke-width:1.0;" x1="981" x2="1023" y1="3987.8105" y2="3987.8105"/><line style="stroke:#181818;stroke-width:1.0;" x1="1023" x2="1023" y1="3987.8105" y2="4000.8105"/><line style="stroke:#181818;stroke-width:1.0;" x1="982" x2="1023" y1="4000.8105" y2="4000.8105"/><polygon fill="#181818" points="992,3996.8105,982,4000.8105,992,4004.8105,988,4000.8105" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119" x="988" y="3952.4473">Unexpected Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="988" y="3967.7578">Division by zero &#10060;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="988" y="3983.0684">(Programming bug)</text><polygon fill="#181818" points="381,4041.4316,371,4045.4316,381,4049.4316,377,4045.4316" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="965" y1="4045.4316" y2="4045.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="387" y="4025.3789">Unhandled Exception</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="387" y="4040.6895">ZeroDivisionError</text><polygon fill="#181818" points="745,4070.7422,755,4074.7422,745,4078.7422,749,4074.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="751" y1="4074.7422" y2="4074.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="377" y="4070">Global exception handler</text><line style="stroke:#181818;stroke-width:1.0;" x1="767" x2="809" y1="4165.2949" y2="4165.2949"/><line style="stroke:#181818;stroke-width:1.0;" x1="809" x2="809" y1="4165.2949" y2="4178.2949"/><line style="stroke:#181818;stroke-width:1.0;" x1="768" x2="809" y1="4178.2949" y2="4178.2949"/><polygon fill="#181818" points="778,4174.2949,768,4178.2949,778,4182.2949,774,4178.2949" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="774" y="4099.3105">Error Processing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="774" y="4114.6211">1. Generate unique error ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="774" y="4129.9316">2. Log full stack trace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="774" y="4145.2422">3. Sanitize error for user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="774" y="4160.5527">4. Alert monitoring (Datadog)</text><line style="stroke:#181818;stroke-width:1.0;" x1="767" x2="809" y1="4268.8477" y2="4268.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="809" x2="809" y1="4268.8477" y2="4281.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="768" x2="809" y1="4281.8477" y2="4281.8477"/><polygon fill="#181818" points="778,4277.8477,768,4281.8477,778,4285.8477,774,4281.8477" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="774" y="4202.8633">Security Check</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="774" y="4218.1738">Don't expose:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="774" y="4233.4844">- Stack traces</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="774" y="4248.7949">- Internal paths</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="774" y="4264.1055">- Credentials</text><polygon fill="#181818" points="381,4307.1582,371,4311.1582,381,4315.1582,377,4311.1582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="761" y1="4311.1582" y2="4311.1582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="387" y="4306.416">Safe error response</text><polygon fill="#181818" points="68,4443.6426,58,4447.6426,68,4451.6426,64,4447.6426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="354" y1="4447.6426" y2="4447.6426"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169" x="74" y="4335.7266">500 Internal Server Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="4351.0371">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="82" y="4366.3477">status: "error",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="82" y="4381.6582">error_code: "INTERNAL_ERROR",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="82" y="4396.9688">message: "An unexpected error occurred",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="82" y="4412.2793">error_id: "err_xyz789",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="82" y="4427.5898">support: "Contact support with error_id"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="74" y="4442.9004">}</text><path d="M767,4460.6426 L767,4546.6426 L949,4546.6426 L949,4470.6426 L939,4460.6426 L767,4460.6426 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M939,4460.6426 L939,4470.6426 L949,4470.6426 L939,4460.6426 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="148" x="773" y="4478.2109">Security &amp; Debugging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="773" y="4493.5215">- User sees safe message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="773" y="4508.832">- Full details in logs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="773" y="4524.1426">- Error ID for tracking</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="773" y="4539.4531">- Monitoring alerted</text><path d="M34,4564.1953 L34,5002.1953 L1739,5002.1953 L1739,4574.1953 L1729,4564.1953 L34,4564.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1729,4564.1953 L1729,4574.1953 L1739,4574.1953 L1729,4564.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="160" x="767.75" y="4581.7637">Error Handling Strategy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="767.75" y="4597.0742">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154" x="767.75" y="4612.3848">Validation Errors (422)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="767.75" y="4627.6953">- Early rejection at API layer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="767.75" y="4643.0059">- Detailed field-level errors</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="767.75" y="4658.3164">- No business logic executed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="767.75" y="4673.627">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="220" x="767.75" y="4688.9375">Authentication Errors (401/403)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="767.75" y="4704.248">- JWT validation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="767.75" y="4719.5586">- Permission checks</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="767.75" y="4734.8691">- Clear guidance for users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="767.75" y="4750.1797">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="767.75" y="4765.4902">External Service Errors</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="767.75" y="4780.8008">- Retry with exponential backoff</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="767.75" y="4796.1113">- Circuit breaker protection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="767.75" y="4811.4219">- Automatic provider failover</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="767.75" y="4826.7324">- Graceful degradation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="767.75" y="4842.043">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144" x="767.75" y="4857.3535">Tool Execution Errors</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="767.75" y="4872.6641">- LLM-generated fallback responses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="767.75" y="4887.9746">- Partial success handling</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="767.75" y="4903.2852">- User-friendly error messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="767.75" y="4918.5957">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193" x="767.75" y="4933.9063">Unhandled Exceptions (500)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="767.75" y="4949.2168">- Sanitized error responses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="767.75" y="4964.5273">- Full logging for debugging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="767.75" y="4979.8379">- Monitoring alerts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="767.75" y="4995.1484">- Unique error IDs</text><!--SRC=[pLfBSnkv4RxpLw2uLMk9PRqeUPEmAjcYgR75NLfaIChEPhd5WcP04giXXfx1KA9Tlkuff-IQ_Bdz9Ud6QnuQqfITGtnmqG2cqUZNzpLWoMN8I7lEXBnARyaHyU8uYiaL5K78nPnyIzxIa0TKyaYGLs5qNwkjQ2ovprTKI5BlX1m-hHEQ45_zB4w_eebi3xeJCOnIoMArZgvuST6GlKzP8YSYsqejNBj_5jTx3pvRuV14A3sDN6Q7InekA8WUiNZDVQOM9lftSPaoWTPl_kWOlTuRCeYZDG_CNc6uBAuOHr6ePYJyA1yluMWQdqr4ZswCXDYDrchFo9_n3nbrlElsiDidPoqozFvwuut6v6sxrxriZxlzQ-8DX_sXNbgRnr6w8j_q-7mX1rpSaP7F18rvfBxL1isxJhcrHk2FTXCv-WiwWhJ8e0-xdC3la_NPYG_6Ebco904ZJCH7ywj5H1g6dmZv_J__K3AeB_cQIgPyYGDw5EI1sCnj8DsemCXW4u0rk4yIVy6Mj2WcvsadBIUcBBIpOFuTMF1zocCMa1bdOP2q9kA8E8L1KwKqER3B3d4-WNcGCUK1BFdtlqYa0eQ6rTiw6pKQngIPHPL16us9-7aY2Fc8Vn6jIOlKZHhrvtgOuLeOVeNJJkywJdwQY5_KlW7RQGrZMnVZe9IE_Rp2p3dPoSgImedAP9G4lehY9PLQ2iRdAX89KsRr7cGC8lNvz884nzk1FWvO1aoA8xredjTeHdcOngnoyvnrzSuIV3aqspOQPQjKd4GP1SIOa4P95yqckH6hEFBH1RTW7m-YJcxGKyf9YQGoJS0PwXJQG-hdr8y229nwbd1JbN1wYGkiUbUeyzbpw-c0IJWfYFrPU_pZeqZO5WIVy8DVb93Cah0C_Z6bj_vPynpYv5FP68My4n6Cn5W9I3IpPPYOFus6H-Dm0oxaqXWL_zWI8TYQeRCfP6NYPc_JX0lGd8JH758snAgbtIS2jLqDVbJKhMQBj6_6LzxrkDlPNRCwKKp3h6ZXXwbSCAmGNr6mK4OKymzAH8kyP3I6qt7jiQcCxfXuQlrYCPzjo0_lngJYyoVMhKk6COR2L5QD-5n0CCRCQeXL2oV6k1C4_4gLDpDu0x25jYUpA1M1AyMxYjRLU3nmO7bmSNfsY6dW8XYotEwXpbR_kaA4kvMoT4loLXK1Ktn0ILTwlh02W8GRGKqai63_pCVGtPtpZoocrYsuaB1e43AQC9Ko0aW4vM9RvbOdptcBA9unxB_jNdf3aphlkkCh80FZuKyLMVGJ2u6IPMbaHHYgOiZSFPSBI7WPRohpwMs-d24gLgU8SRmXJvY7kiWIJC7Y9vPWuQ1TZzlDjO-y1-QdA7bk2rMscHlIutEZAV0jZ14UWuPuGf-6uKGS8Dc27KBcOrWS5cKXHtEIK82Jqu6lIN_5HBjBW9rc2t9A0kI3a1vVSkcWlZvKSd5C1ICBe82N7LpOrXqWetjPmk11AY0xnmoTdDpdPM6Q36dGbfkL1koYxkJtt_wf0q21DgH6DdmTWJWpSytaVHJVbRxPImjaIB2MZ80eI3PNU0jR0QOlLvASdPpZFzzHC5mp8GUGH970Oaz3HSiwFFPJcBi58BfZW9ATNd_aNMw3k9A5DCnbD9iCa4l48idXtP4-Yyw5M-hVHRDPRhAaG6xc5SGAheU49m6VpLYC7bsP32k2uXP3wQ3J-tzpHWxe3BG3Eso9Lnk99VkE-P914qLCDEuCknsEiYvfeakKGowIlHHlMiKldgZuAFMnJZGQhhRietOk5J5FB2QGWmJ5OUOHm0yLkeTbeLKPP3AnKC4w4OIWI1anV14QtcBDSZNIdA48JO_0ftbwIle_GbrIKQPq0n2H532K7kxDryOn5Gbqa2XJsJuNnee498n14nig0G43SfRZRT8LScEdP1_UTj4Yutw_Hxo_UPsRdRnjHCCbsDqX3dw9HLZNzDt4hJvQ05Zzm6DAU9A0alMd8SsNWCnJu6LSG9FTCMwt0OUGN-54qmIufh-OweFjXmaAlJ8uL8PHrmU5dTs8-ajzatsha4nzECJB0WjcMa8eynS4QXKi89VHlN0He-KLS0_DuDpfi4zHA5mDVdnyu1oRWdd8Aw6Dg1f00Cdd6G4pREl5wRbbHoLZkGExanIibYdgIdCUTCwEoHZI3WuF203STQq5VZyHpMDCfpGMH5tFGFk1UGaJvyUaAsR0FqcAwJM7LfVDqZ3SVBz33LiRyRiqHBqnwR50AvEYQ6Cq7weCUq26g5oG2he6es1lgit2HIBZrDSjIxszYf11Ve1WXPnDqlaSardLadhUO8zYgw1cEKphtMTBt1aROW0oNpi8Vw9E4w6haOZkZucXiLYx58cT2AIpPCRkoHAAfMJ9SRtARPLwL5NTHkEriN2ksxSSNTVP5iHDcB0I2pTtU0G13Dh7c4DR-yYQQFsflg60RhmgL6sp3IUSAaHhaUzEjyHYLZ0AnteC40CJKaaLK9I4vYjNqLgFknaDAO2T6bCqpNEOie_LTdh- -FZOzZfQPCjUPUrhHsj94waiQ47efCpSRLKRrTHvnA9zGT65p2M3_DHDQO7UAMJaAes16lWGn76uoSq3p_LZcYomXti1His8jvuVQVqJ0ziqmu3FOESBgCBTOUUcEoOlXrxxH-ZS-WFlkW8xNuP0DHnoudU6TRxKh1DnJkR0fuoVziv6HSBhE7fVfA7_1pXQqPZuHMOzGG_jKlw9tK-ZKJRY2526wVP3_MnfTnZo-i9UIIQgyS0c4CA5GdLksl86nubmxeg6iwC85X1J9LxO5Pzbh4uhenHkenh8mi4BXUmsZFoxYdPo1vVDxmTDNRIaUBzkKH7t6q6e-0jCTXo1GBHRGvEeLC4cJpV2MraHCXpJAoDICHhinumiPVuSwQ-228iB1EOOOdjWIVNCOhuzoIFodyNcLXfVsr6GTzHWKsspqhgzUbhjfi0ey3ONmuXo-nvW3p6LKF3cq56Qeccc8nZbWePJvorIXpholbuegbzu6vmF51v6QnONocYf4SQ3O4c2VcC3lb_cLcQ2N3mdAjpAHJc8M2AUuOt9YiKwL_BF0fyfhzz115vVjQylUzubz2STRw3wayVL5H1YarLN_4mir3rBGDmTA3deKD3mg1s6XxjAxF-gdfQBQfu4tGWqY8-F7evaN_8rn_SfShiX7rWSwRlV0zW7G6-vn0VPstH-M24xT-jRSMwK_NUGP-LdFTgMBDXsrViwZ6w1vMH3UgklU7HgDFHrqy2ru8R5lpQf3-I5WrCCzUbUAYAFpqn8qR6dmBiPP0UAo8-eu1BPirwEO8EaVY8kZaaR59K4sbSk8SN0bWUNaBD1b3Ve3Zr708GnbniDRCfTaOdhoBoJZJ9jrFjOLwWk98IEGoxKI0UINLzy9RiVnKPqnafFSLzs7uvan-c15DhU2-z_CTwz7dl3wtQl-dAyBS15BfQrof4FjefjuwU5gMSj-3bzs7pumn__P7h2T0KGA7NJAF6DqOoGZE_2bqzy0ojQHXS-vxvlWKD25irLg9MBbRvRGTkR0-Ql0Z7Wp4iVO27Uz2UvQSy4g0ewZ84xUv-avzzaWKSn4bcme_xf-nTewWVzwv57HZTlthJT4u0wB9Pku-VdMSziqydz1uwiDywCrMYK_sT0GWukcir3imZEejuCO_QhQUEfL5S7sKFW4HXHgjvUFmeVXMpDGlCqN7EKk_IGo3IP3FAgLBtxeJgdPoSNf-UPIlW4LtgGEY835Y-vUj8dFcQbtRg3_9_CKrYjyCQKWII_iVUGImeiedfhjs7kmZXtNrsuFDwAbvc65J0vCy1hLhZM9iXQcxoULVThcPQztfiZnv8oUcHhXZL8kJzTcFYePR5_D4Dq3i3ljijK2L2mMGMsWA-Wn6H-iXKuA5KlgudA8WW7p3_bcC1cOwqwJ-o7DqKSI6ekS_uB]--></g></svg>