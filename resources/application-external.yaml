# External Services Configuration
# Settings for external API integrations and third-party services

# Atlassian Services (Confluence & Jira)
atlassian:
  api_key: "${ATLASSIAN_API_KEY}"    # None if not set
  email: "${ATLASSIAN_EMAIL}"
  confluence_base_url: "${ATLASSIAN_BASE_URL_CONFLUENCE}"
  jira_base_url: "${ATLASSIAN_BASE_URL_JIRA}"

# GitHub Integration
github:
  # Basic API access
  api_key: "${GITHUB_API_KEY}"       # None if not set (for public repos)
  base_url: "${GITHUB_BASE_URL:https://api.github.com}"
  timeout: "${GITHUB_TIMEOUT:30}"
  
  # GitHub App configuration (recommended for enhanced access)
  app:
    app_id: "${GITHUB_APP_ID}"                           # From GitHub App settings page
    private_key_path: "${GITHUB_PRIVATE_KEY_PATH}"       # Path to downloaded .pem file
    installation_id: "${GITHUB_INSTALLATION_ID}" 
    client_secret: "${GITHUB_CLIENT_SECRET}"        # Get after installing app (optional - auto-detected if not provided)
  
  # Repository access configuration
  allowed_repositories:
    - name: "timothy-odofin/agenthub-be"
      description: "AgentHub Backend API - Main application server with AI agent orchestration"
    - name: "timothy-odofin/car-mgt"
      description: "Car Management System - Vehicle fleet management application"
    - name: "timothy-odofin/accountmgt"
      description: "Account Management System - User account and authentication service"
    - name: "timothy-odofin/oze-assessment"
      description: "OZE Assessment Platform - Technical evaluation and testing system"
    - name: "timothy-odofin/cognizant-code-challenge-api"
      description: "Cognizant Code Challenge - Technical assessment API backend"
#    - name: "timothy-odofin/*"  # Wildcard for all user repos


# Bitbucket Integration
bitbucket:
  username: "${BITBUCKET_USERNAME}"
  app_password: "${BITBUCKET_APP_PASSWORD}"
  base_url: "${BITBUCKET_BASE_URL:https://api.bitbucket.org/2.0}"
  timeout: "${BITBUCKET_TIMEOUT:30}"

# AWS S3 Storage
s3:
  access_key_id: "${AWS_ACCESS_KEY_ID}"
  secret_access_key: "${AWS_SECRET_ACCESS_KEY}"
  region: "${AWS_REGION:us-east-1}"
  bucket_name: "${S3_BUCKET_NAME}"
  endpoint_url: "${S3_ENDPOINT_URL}"  # For S3-compatible services

# SharePoint Integration
sharepoint:
  tenant_id: "${SHAREPOINT_TENANT_ID}"
  client_id: "${SHAREPOINT_CLIENT_ID}"
  client_secret: "${SHAREPOINT_CLIENT_SECRET}"
  site_url: "${SHAREPOINT_SITE_URL}"
  timeout: "${SHAREPOINT_TIMEOUT:60}"

# Datadog Monitoring and Observability
datadog:
  api_key: "${DATADOG_API_KEY}"
  app_key: "${DATADOG_APP_KEY}"
  site: "${DATADOG_SITE:datadoghq.com}"  # Use datadoghq.eu for EU region
  timeout: "${DATADOG_TIMEOUT:30}"
  default_limit: "${DATADOG_DEFAULT_LIMIT:50}"  # Default number of results
  max_limit: "${DATADOG_MAX_LIMIT:200}"         # Maximum allowed results (guardrail)

# LangChain Observability
langchain:
  api_key: "${LANGCHAIN_API_KEY}"
  project: "${LANGCHAIN_PROJECT:agenthub}"
  tracing_v2: "${LANGCHAIN_TRACING_V2:true}"
  endpoint: "${LANGCHAIN_ENDPOINT:https://api.smith.langchain.com}"
